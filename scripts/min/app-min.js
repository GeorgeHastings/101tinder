"use strict";function rollNum(t,a){return(Math.floor(Math.random()*(a-t))+t).toFixed(0)}function getAmtHeight(t){var a=1-.0015*Math.abs(t);return(t*a).toFixed(0)}function changeColor(t){rgb=[t+100,200,100],t>100&&(rgb=[200,200-(t-100),100]),t>200&&(rgb=[200-(t-200),100-(t-200),100-(t-200)]),$(".amount-input").css("background","rgb("+rgb.join(",")+")")}function genNew(){setTimeout(function(){var t=$(".amount-input").clone();$(".amount-input").remove(),t.appendTo("#screen"),t.css("-webkit-transform","translate3d(0px,0,0)"),$(".show-slide").css("background-color",colors[rollNum(0,colors.length)]).attr("data-x","0").attr("data-y","0"),t.addClass("show-slide")},250)}function dragAmount(t,a){var n,o,e,i,r;n=a.originalEvent.targetTouches[0].pageY,o=a.originalEvent.targetTouches[0].pageX,e=n-initY,i=o-initX,r=i/100,r>0?$(t).find(".like").css("opacity",Math.abs(r)):$(t).find(".nope").css("opacity",Math.abs(r)),$(t).css("-webkit-transform","translate3d("+getAmtHeight(i)+"px, "+getAmtHeight(e)+"px, 0px) rotateZ("+.1*getAmtHeight(e)+"deg)"),$(t).attr("data-x",i),$(t).attr("data-y",e)}var canDrag=!1,lastAiHeight=300,initY,initX,colors=["#ef9a9a","#F48FB1","#CE93D8","#CE93D8","#9FA8DA","#9FA8DA","#9FA8DA","#9FA8DA","#A5D6A7","#E6EE9C","#FFF59D","#FFE082","#FFAB91","#FFAB91"];$(document).on("mousedown touchstart",".amount-input",function(t){canDrag=!0,initY=t.originalEvent.targetTouches[0].pageY,initX=t.originalEvent.targetTouches[0].pageX}),$("#screen").on("mouseup touchend",function(t){canDrag=!1;var a=$(".amount-input").last();a.css("-webkit-transform","translate3d(0,0,0)"),$(".like").css("opacity","0"),$(".nope").css("opacity","0"),a.attr("data-x")>180&&(a.css("-webkit-transform","translate3d(367px,5px,0)"),setTimeout(function(){a.remove(),"dk"===a.attr("id")&&$(".match").addClass("pop-in")},300)),a.attr("data-y")<-200&&(a.css("-webkit-transform","translate3d(0px,-580px,0)"),setTimeout(function(){a.remove()},300)),a.attr("data-y")>200&&(a.css("-webkit-transform","translate3d(0px,580px,0)"),setTimeout(function(){a.remove()},300)),a.attr("data-x")<-180&&(a.css("-webkit-transform","translate3d(-367px,5px,0)"),setTimeout(function(){a.remove()},300))}),$(document).on("mouseup touchend",".amount-input",function(){var t=$(this).attr("data-x"),a=$(this).attr("data-y");t>120||t<-120||a>150||a<-150||($(".amount-input textarea").focus(),$(".amount-input").removeClass("show-slide"))}),$(document).on("blur",".amount-input textarea",function(){$(".amount-input").addClass("show-slide")}),$(".amount-input").on("mousemove touchmove",function(t){1==canDrag&&dragAmount(this,t)}),$(window).bind("touchmove",function(t){t.preventDefault()});